
# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

## Задача 1

### Вопрос
Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и 
виртуализации на основе ОС.

### Ответ
Отличие в способе организации гипервизора:
- полная (аппаратная) виртуализация: на физический сервер устанавливается специализированная ОС, 
которая и является гипервизором.
- перавиртуализация: на физический сервер с обычной ОС устанавливается дополнительное ПО (гипервизор). 
- виртуализация на основе ОС: используется встроенные во все современные ОС функции для организации виртуализации. 

## Задача 2

### Вопрос
Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

### Ответ

**Высоконагруженная база данных, чувствительная к отказу.**

Физические серверы. Предполагается, что БД будет утилизировать большую часть ресурсов сервера, поэтому недопустима 
зависимость производительность БД в зависимости от потребления ресурсов другими ВМ. При этом, должны быть решены задачи 
отказоустойчивости (бэкапы, репликация и т.п.). Альтернатива - применение виртуализации с кластеризацией.  

**Различные web-приложения.**

Виртуализации уровня ОС должно быть достаточно, по подойдет и паравиртуализация.

**Windows системы для использования бухгалтерским отделом.**

Паравиртуализация с использованием Hyper-v для Windows систем кажется оптимальным вариантом.

**Системы, выполняющие высокопроизводительные расчеты на GPU.**

Физические серверы. Специфичная задача, которая, скорее всего, предполагает использования специализированного ПО (и даже железа).
Лучше решать ее без лишних уровней абстракции.  

## Задача 3

### Вопрос
Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based 
инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного
механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) 
инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

### Ответ

**Сценарий №1**

Hyper-V. 
- Наиболее совместим с  Windows based инфраструктурой,
- Встроен в Windows Server, 
- есть Live-миграция виртуальных машин, 
- Hyper-V реплики, 
- Миграция накопителей данных.

**Сценарий №2**

KVM. 
- open source,
- Позволяет запустить любую ОС в качестве гостевой, 
- Производительность ВМ близка к нативной производительности.

**Сценарий №3**

Hyper-V в бесплатной версии
- Наиболее совместим с  Windows based инфраструктурой,

**Сценарий №4**

Docker/LXC
- Как понимаю, можно автоматизировать процесс тестирования (Infrastructure as a Code)

## Задача 4

### Вопрос
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления 
виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, 
то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

### Ответ
Недостатки:
- повышенные требования к кадрам (универсальные дорогие специалисты или избыточность персонала),
- избыточность физических ресурсов, т.к. не получится распределить ресурсы между ВМ оптимальным образом,
- сложность сопровождения при миграции, репликации, масштабировании и т.п.

Все проблемы решаются "деньгами", т.е. затратами на персонал, дополнительные серверы, лицензии и т.п. 

Как мне кажется, применение гетерогенной среды может быть продиктовано спецификой проекта, в рамках которого отдельные 
функциональные блоки оптимально реализовать через разные системы управления виртуализацией. Например, рабочие станции 
для персонала на Windows и Hyper-V, бэкэнд-серверы с БД на VMware vSphere и т.п. 
Поэтому выбор зависит от задачи, имеющихся финансовых возможностей и следует выбирать вариант гетерогенной среды, если 
это действительно оправданно.  

 
